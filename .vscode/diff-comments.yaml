- id: a50edf4c-102b-400c-b7ae-10132489a55b
  content: >-
    I’m seeingg some serious issues from this commit that are going to prevent
    me from dropping value1: Upon calling a transform like «consolidate rests»
    on this tune, ``` X:1 T:Test M:4 / 4 L:1 / 4 K:C [V:1] [CEG]DEF | [CFA]Bc^c
    [V:2] GDEF | ABcd [V:3] E z2 z | F z2 z [V:4] C z2 z | C z2 z ``` Info
    line’s slashes get converted back without the slashes: ``` X:1 T:Test M:4 4
    L:1 4 K:C [V:1] [CEG]DEF | [CFA]Bc^c [V:2] GDEF | ABcd [V:3] E z2 z | F z2 z
    [V:4] C z2 z | C z2 z ``` I dunno whether that’s in the toAst, or fromAst,
    or in the stringification, but that’s a new bug.  This means that so long as
    we don’t have thorough property-based round-trip tests for every expression
    and token type in the ast, we’re not ready to merge this PR.  This expands
    the scope significantly of the testing needed, and needs to carry its own
    implementation plan.
  fileName: editor/src/csTree/toAst.ts
  lineNumber: 334
  hash: 88cb0514dd79625f3d7a19f64d5b1021b89f2ed3
  parentHash: e917e2d8b4df4a1abed5d57550d6c0e6051004fd
  createdAt: '2026-02-07T12:10:51.272-05:00'
  completed: false
