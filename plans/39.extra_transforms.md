Harmonisation/voice-leading
-> extract chord symbol from annotation
-> convert/replace chord symbol to chord (and its chord notes)
-> voice lead chords amongst each other

system selectors?
consolidate rests in bars -> do we already have this in the code base, as one of the AST visitors?
special «paste» chord over (melody) note -> merge note in chord.
  - we could have special rules, suchas «drop octaves of chord notes such that the melody note remains the top note of the chord».

Some workflow ideas:
-> harmonize cursored note based on prev chord symbol in system.


-> selector: select notes that are chord tones of prev chord symbol. 
  The algo is: 
    - I have a selection cursor with a target note, 
    - the algo searches for an annotation that contains a chord symbol amongst the expressions on the same line prior to the note, 
    - if found, extract chord symbol from annotation, convert symbol to chord (and its notes),
    - compare target note with chord notes: if it’s one of them, select note
  This allows workflows with:
    - modify (octaviate) rest of chord notes (if necessary) such that they’re below the target note, and paste them.

-> harmonize parallely to previous chord:
  algo is:
    - I have a selection cursor with a target note
    - algo backtracks in line searching for a chord. 
    - if found, transpose diatonically such that the target note becomes the top note of the new chord, and paste the rest of the chord notes.


-> harmonize note in parallel third/fourth/fifth/sixth, diatonically.
-> paste rhythm sequence to pitches. 
  This requires a time map, the happy path being: on a long note that’s selected, paste the rhythms of the sequence of notes that’s in the clipboard (or in a modal editor’s register).
-> wrap selection in crescendo, descrescendo, swell, unswell.
-> match notes based on rhythms/patterns

-> setup midi input (already done in vscode)
-> allow folds for tune section, tunes, instrument sections.
